{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStyles = exports.disableByWeekRange = exports.DateRangePicker = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_popper_1 = require(\"react-popper\");\n\nvar styles_1 = require(\"../../styles\");\n\nvar DateField_1 = require(\"../DateField/DateField\");\n\nvar FocusManagerContainer_1 = require(\"../FocusManagerContainer\");\n\nvar ControlledDateRangeCalendar_1 = require(\"../Calendar/RangeCalendar/DateRangeCalendar/ControlledDateRangeCalendar\");\n\nvar DateRangePickerInput_1 = require(\"./DateRangePickerInput\");\n\nfunction DateRangePicker(props) {\n  var onChange = props.onChange,\n      popperProps = props.popperProps,\n      minDate = props.minDate,\n      maxDate = props.maxDate,\n      value = props.value,\n      icon = props.icon,\n      calendarProps = props.calendarProps,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      onlyWeeks = props.onlyWeeks,\n      rest = __rest(props, [\"onChange\", \"popperProps\", \"minDate\", \"maxDate\", \"value\", \"icon\", \"calendarProps\", \"onFocus\", \"onBlur\", \"onlyWeeks\"]);\n\n  var _a = react_1.useState(1),\n      dateRangeInputFocus = _a[0],\n      setDateRangeInputFocus = _a[1];\n\n  var _b = react_1.useState(new Date()),\n      visibleDate = _b[0],\n      setVisibleDate = _b[1];\n\n  var _c = react_1.useState(false),\n      open = _c[0],\n      setOpen = _c[1];\n\n  var _d = styles_1.useStyles(exports.createStyles),\n      classes = _d.classes,\n      css = _d.css;\n\n  var finalInputRef = react_1.useRef();\n\n  var _e = react_1.useState(),\n      anchorRef = _e[0],\n      setAnchorRef = _e[1];\n\n  var _f = react_1.useState(),\n      popupRef = _f[0],\n      setPopupRef = _f[1];\n\n  react_1.useEffect(function () {\n    var point = function () {\n      if (dateRangeInputFocus === 1 && (value === null || value === void 0 ? void 0 : value.startDate)) {\n        return value.startDate;\n      } else if (dateRangeInputFocus === 2 && (value === null || value === void 0 ? void 0 : value.endDate)) {\n        return value.endDate;\n      } else if ((value === null || value === void 0 ? void 0 : value.startDate) && !(value === null || value === void 0 ? void 0 : value.endDate)) {\n        return value.startDate;\n      } else if (!(value === null || value === void 0 ? void 0 : value.startDate) && (value === null || value === void 0 ? void 0 : value.endDate)) {\n        return value.endDate;\n      } else {\n        return new Date();\n      }\n    };\n\n    setVisibleDate(point);\n  }, [dateRangeInputFocus, value]);\n\n  var _g = react_popper_1.usePopper(anchorRef, popupRef, __assign(__assign({}, popperProps), {\n    placement: 'bottom'\n  })),\n      popperStyle = _g.styles.popper,\n      placement = _g.attributes.placement;\n\n  var handleInputFocus = function (inputOnFocus) {\n    return setDateRangeInputFocus(inputOnFocus);\n  };\n\n  var handleOnDayClick = function (dayClicked) {\n    return finalInputRef.current.focus();\n  };\n\n  var handleFocusIn = function (event) {\n    onFocus && onFocus(event);\n    setOpen(true);\n  };\n\n  var handleFocusOut = function (event) {\n    onBlur && onBlur(event);\n    setOpen(false);\n  };\n\n  var handleDateRangeChanged = function (rangeDateFromBaseInput) {\n    onChange(rangeDateFromBaseInput);\n  };\n\n  var handleCalendarDateRangeChanged = function (dateRange) {\n    var startDate = dateRange.startDate,\n        endDate = dateRange.endDate;\n    startDate && endDate ? startDate <= endDate ? onChange({\n      startDate: startDate,\n      endDate: endDate\n    }) : onChange({\n      startDate: endDate,\n      endDate: startDate\n    }) : onChange({\n      startDate: startDate,\n      endDate: endDate\n    });\n  };\n\n  var handleOnVisibleDateChange = function (vDate) {\n    return setVisibleDate(vDate);\n  };\n\n  return react_1.default.createElement(FocusManagerContainer_1.FocusManagerContainer, {\n    onFocusIn: handleFocusIn,\n    onFocusOut: handleFocusOut\n  }, react_1.default.createElement(DateRangePickerInput_1.DateRangePickerInput, __assign({\n    value: value,\n    onChange: handleDateRangeChanged,\n    divRef: setAnchorRef,\n    minDate: minDate,\n    maxDate: maxDate,\n    icon: icon,\n    finalInputRef: finalInputRef,\n    onInputOnFocus: handleInputFocus\n  }, rest)), open && react_1.default.createElement(\"div\", {\n    ref: setPopupRef,\n    className: css(classes.root, popperStyle),\n    \"data-placement\": placement,\n    tabIndex: -1\n  }, react_1.default.createElement(ControlledDateRangeCalendar_1.ControlledDateRangeCalendar, __assign({\n    value: value,\n    onChange: handleCalendarDateRangeChanged,\n    onDayClick: handleOnDayClick,\n    inputOnFocus: dateRangeInputFocus,\n    visibleDate: visibleDate,\n    onVisibleDateChange: handleOnVisibleDateChange,\n    minDate: minDate,\n    maxDate: maxDate,\n    modifiers: {\n      disabled: onlyWeeks ? exports.disableByWeekRange(minDate, maxDate) : DateField_1.disableByRange(minDate, maxDate)\n    },\n    onlyWeeks: onlyWeeks\n  }, calendarProps))));\n}\n\nexports.DateRangePicker = DateRangePicker;\nDateRangePicker.defaultProps = {\n  onlyWeeks: false,\n  icon: 'calendarOutline'\n};\n\nexports.disableByWeekRange = function (minDate, maxDate) {\n  var realMinDate = new Date(minDate);\n  realMinDate.setHours(0, 0, 0, 0);\n  var realMaxDate = new Date(maxDate);\n  realMaxDate.setHours(23, 59, 59, 999);\n  return function (week) {\n    return minDate && week.start < realMinDate || maxDate && week.end > realMaxDate;\n  };\n};\n\nexports.createStyles = function (theme) {\n  return {\n    root: {\n      zIndex: theme.zIndex.popper,\n      background: theme.pallete.surface.main,\n      boxShadow: theme.shadows.outer[40],\n      borderRadius: theme.radius.popper,\n      padding: '0.5rem .25rem .25rem .25rem',\n      outline: 'none'\n    }\n  };\n};","map":{"version":3,"sources":["../../../src/components/DateRangePicker/DateRangePicker.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createStyles = exports.disableByWeekRange = exports.DateRangePicker = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_popper_1 = require(\"react-popper\");\nvar styles_1 = require(\"../../styles\");\nvar DateField_1 = require(\"../DateField/DateField\");\nvar FocusManagerContainer_1 = require(\"../FocusManagerContainer\");\nvar ControlledDateRangeCalendar_1 = require(\"../Calendar/RangeCalendar/DateRangeCalendar/ControlledDateRangeCalendar\");\nvar DateRangePickerInput_1 = require(\"./DateRangePickerInput\");\nfunction DateRangePicker(props) {\n    var onChange = props.onChange, popperProps = props.popperProps, minDate = props.minDate, maxDate = props.maxDate, value = props.value, icon = props.icon, calendarProps = props.calendarProps, onFocus = props.onFocus, onBlur = props.onBlur, onlyWeeks = props.onlyWeeks, rest = __rest(props, [\"onChange\", \"popperProps\", \"minDate\", \"maxDate\", \"value\", \"icon\", \"calendarProps\", \"onFocus\", \"onBlur\", \"onlyWeeks\"]);\n    var _a = react_1.useState(1), dateRangeInputFocus = _a[0], setDateRangeInputFocus = _a[1];\n    var _b = react_1.useState(new Date()), visibleDate = _b[0], setVisibleDate = _b[1];\n    var _c = react_1.useState(false), open = _c[0], setOpen = _c[1];\n    var _d = styles_1.useStyles(exports.createStyles), classes = _d.classes, css = _d.css;\n    var finalInputRef = react_1.useRef();\n    var _e = react_1.useState(), anchorRef = _e[0], setAnchorRef = _e[1];\n    var _f = react_1.useState(), popupRef = _f[0], setPopupRef = _f[1];\n    react_1.useEffect(function () {\n        var point = function () {\n            if (dateRangeInputFocus === 1 && (value === null || value === void 0 ? void 0 : value.startDate)) {\n                return value.startDate;\n            }\n            else if (dateRangeInputFocus === 2 && (value === null || value === void 0 ? void 0 : value.endDate)) {\n                return value.endDate;\n            }\n            else if ((value === null || value === void 0 ? void 0 : value.startDate) && !(value === null || value === void 0 ? void 0 : value.endDate)) {\n                return value.startDate;\n            }\n            else if (!(value === null || value === void 0 ? void 0 : value.startDate) && (value === null || value === void 0 ? void 0 : value.endDate)) {\n                return value.endDate;\n            }\n            else {\n                return new Date();\n            }\n        };\n        setVisibleDate(point);\n    }, [dateRangeInputFocus, value]);\n    var _g = react_popper_1.usePopper(anchorRef, popupRef, __assign(__assign({}, popperProps), { placement: 'bottom' })), popperStyle = _g.styles.popper, placement = _g.attributes.placement;\n    var handleInputFocus = function (inputOnFocus) { return setDateRangeInputFocus(inputOnFocus); };\n    var handleOnDayClick = function (dayClicked) { return finalInputRef.current.focus(); };\n    var handleFocusIn = function (event) {\n        onFocus && onFocus(event);\n        setOpen(true);\n    };\n    var handleFocusOut = function (event) {\n        onBlur && onBlur(event);\n        setOpen(false);\n    };\n    var handleDateRangeChanged = function (rangeDateFromBaseInput) {\n        onChange(rangeDateFromBaseInput);\n    };\n    var handleCalendarDateRangeChanged = function (dateRange) {\n        var startDate = dateRange.startDate, endDate = dateRange.endDate;\n        startDate && endDate\n            ? startDate <= endDate\n                ? onChange({ startDate: startDate, endDate: endDate })\n                : onChange({ startDate: endDate, endDate: startDate })\n            : onChange({ startDate: startDate, endDate: endDate });\n    };\n    var handleOnVisibleDateChange = function (vDate) { return setVisibleDate(vDate); };\n    return (react_1.default.createElement(FocusManagerContainer_1.FocusManagerContainer, { onFocusIn: handleFocusIn, onFocusOut: handleFocusOut },\n        react_1.default.createElement(DateRangePickerInput_1.DateRangePickerInput, __assign({ value: value, onChange: handleDateRangeChanged, divRef: setAnchorRef, minDate: minDate, maxDate: maxDate, icon: icon, finalInputRef: finalInputRef, onInputOnFocus: handleInputFocus }, rest)),\n        open && (react_1.default.createElement(\"div\", { ref: setPopupRef, className: css(classes.root, popperStyle), \"data-placement\": placement, tabIndex: -1 },\n            react_1.default.createElement(ControlledDateRangeCalendar_1.ControlledDateRangeCalendar, __assign({ value: value, onChange: handleCalendarDateRangeChanged, onDayClick: handleOnDayClick, inputOnFocus: dateRangeInputFocus, visibleDate: visibleDate, onVisibleDateChange: handleOnVisibleDateChange, minDate: minDate, maxDate: maxDate, modifiers: {\n                    disabled: onlyWeeks ? exports.disableByWeekRange(minDate, maxDate) : DateField_1.disableByRange(minDate, maxDate),\n                }, onlyWeeks: onlyWeeks }, calendarProps))))));\n}\nexports.DateRangePicker = DateRangePicker;\nDateRangePicker.defaultProps = {\n    onlyWeeks: false,\n    icon: 'calendarOutline',\n};\nexports.disableByWeekRange = function (minDate, maxDate) {\n    var realMinDate = new Date(minDate);\n    realMinDate.setHours(0, 0, 0, 0);\n    var realMaxDate = new Date(maxDate);\n    realMaxDate.setHours(23, 59, 59, 999);\n    return function (week) {\n        return (minDate && week.start < realMinDate) || (maxDate && week.end > realMaxDate);\n    };\n};\nexports.createStyles = function (theme) { return ({\n    root: {\n        zIndex: theme.zIndex.popper,\n        background: theme.pallete.surface.main,\n        boxShadow: theme.shadows.outer[40],\n        borderRadius: theme.radius.popper,\n        padding: '0.5rem .25rem .25rem .25rem',\n        outline: 'none',\n    },\n}); };\n//# sourceMappingURL=DateRangePicker.js.map"]},"metadata":{},"sourceType":"script"}